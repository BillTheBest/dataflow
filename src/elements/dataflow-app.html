<!-- Custom elements -->
<link rel="import" href="dataflow-graph.html">

<polymer-element name="dataflow-app" attributes="graph src">
  <template>
    <dataflow-graph id="base" graph="{{graph}}" ></dataflow-graph>
  </template>
  <script>
    Polymer("dataflow-app", {
      created: function() {
        console.log(this);
      },
      graphChanged: function () {
        var parsedGraph = this.graph;
        if (typeof parsedGraph === "string") {
          parsedGraph = JSON.parse( this.graph );
        }
        this.$.base.graph = this.parsedGraph;
        console.log(this);
      },
      srcChanged: function () {
        // Load JSON via AJAX and load graph
      }
    });
  </script>
</polymer-element>
